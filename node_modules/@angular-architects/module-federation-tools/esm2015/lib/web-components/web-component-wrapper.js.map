{"version":3,"file":"web-component-wrapper.js","sourceRoot":"","sources":["../../../../../../libs/mf-tools/src/lib/web-components/web-component-wrapper.ts"],"names":[],"mappings":";AAAA,OAAO,EAAoB,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AACnF,OAAO,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;AACjD,OAAO,EAA2B,gBAAgB,EAAE,MAAM,uCAAuC,CAAC;AASlG,kEAAkE;AAClE,MAAM,OAAO,mBAAmB;IAK9B,YAAoB,KAAqB;QAArB,UAAK,GAAL,KAAK,CAAgB;IAAI,CAAC;IAExC,kBAAkB;;YAEtB,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAkC,CAAC;YAEvE,IAAI;gBACA,MAAM,gBAAgB,CAAC,OAAO,CAAC,CAAC;gBAEhC,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;gBAC5D,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;aAC9C;YACD,OAAM,KAAK,EAAE;gBACT,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;aACxB;QAEH,CAAC;KAAA;;;YAzBF,SAAS,SAAC;gBACT,QAAQ,EAAE,iBAAiB;aAC5B;;;YATQ,cAAc;;;iBAapB,SAAS,SAAC,IAAI,EAAE,EAAC,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAC","sourcesContent":["import { AfterContentInit, Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { LoadRemoteModuleOptions, loadRemoteModule } from '@angular-architects/module-federation';\r\n\r\nexport type WebComponentWrapperOptions = LoadRemoteModuleOptions & {\r\n    elementName: string;\r\n};\r\n\r\n@Component({\r\n  template: '<div #vc></div>',\r\n})\r\n// eslint-disable-next-line @angular-eslint/component-class-suffix\r\nexport class WebComponentWrapper implements AfterContentInit {\r\n\r\n  @ViewChild('vc', {read: ElementRef, static: true})\r\n  vc: ElementRef;\r\n\r\n  constructor(private route: ActivatedRoute) { }\r\n\r\n  async ngAfterContentInit() {\r\n\r\n    const options = this.route.snapshot.data as WebComponentWrapperOptions;\r\n   \r\n    try {\r\n        await loadRemoteModule(options);\r\n\r\n        const element = document.createElement(options.elementName);\r\n        this.vc.nativeElement.appendChild(element);\r\n    }\r\n    catch(error) {\r\n        console.error(error);\r\n    }\r\n\r\n  }\r\n\r\n}"]}