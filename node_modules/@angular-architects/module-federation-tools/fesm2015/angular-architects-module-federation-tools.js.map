{"version":3,"file":"angular-architects-module-federation-tools.js","sources":["../../../../libs/mf-tools/src/lib/web-components/web-component-wrapper.ts","../../../../libs/mf-tools/src/lib/mf-tools.module.ts","../../../../libs/mf-tools/src/angular-architects-module-federation-tools.ts"],"sourcesContent":["import { AfterContentInit, Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { LoadRemoteModuleOptions, loadRemoteModule } from '@angular-architects/module-federation';\r\n\r\nexport type WebComponentWrapperOptions = LoadRemoteModuleOptions & {\r\n    elementName: string;\r\n};\r\n\r\n@Component({\r\n  template: '<div #vc></div>',\r\n})\r\n// eslint-disable-next-line @angular-eslint/component-class-suffix\r\nexport class WebComponentWrapper implements AfterContentInit {\r\n\r\n  @ViewChild('vc', {read: ElementRef, static: true})\r\n  vc: ElementRef;\r\n\r\n  constructor(private route: ActivatedRoute) { }\r\n\r\n  async ngAfterContentInit() {\r\n\r\n    const options = this.route.snapshot.data as WebComponentWrapperOptions;\r\n   \r\n    try {\r\n        await loadRemoteModule(options);\r\n\r\n        const element = document.createElement(options.elementName);\r\n        this.vc.nativeElement.appendChild(element);\r\n    }\r\n    catch(error) {\r\n        console.error(error);\r\n    }\r\n\r\n  }\r\n\r\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { WebComponentWrapper } from './web-components/web-component-wrapper';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    WebComponentWrapper\n  ],\n  exports: [\n    WebComponentWrapper\n  ]\n})\nexport class ModuleFederationToolsModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;AAWA;MACa,mBAAmB;IAK9B,YAAoB,KAAqB;QAArB,UAAK,GAAL,KAAK,CAAgB;KAAK;IAExC,kBAAkB;;YAEtB,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAkC,CAAC;YAEvE,IAAI;gBACA,MAAM,gBAAgB,CAAC,OAAO,CAAC,CAAC;gBAEhC,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;gBAC5D,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;aAC9C;YACD,OAAM,KAAK,EAAE;gBACT,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;aACxB;SAEF;KAAA;;;YAzBF,SAAS,SAAC;gBACT,QAAQ,EAAE,iBAAiB;aAC5B;;;YATQ,cAAc;;;iBAapB,SAAS,SAAC,IAAI,EAAE,EAAC,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAC;;;MCCtC,2BAA2B;;;YAXvC,QAAQ,SAAC;gBACR,OAAO,EAAE;oBACP,YAAY;iBACb;gBACD,YAAY,EAAE;oBACZ,mBAAmB;iBACpB;gBACD,OAAO,EAAE;oBACP,mBAAmB;iBACpB;aACF;;;ACdD;;;;;;"}